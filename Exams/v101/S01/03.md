# üñ•Ô∏è Fundamentos Avan√ßados do Shell Bash (Parte 03)

## Comando `history` no Linux

O comando `history` √© uma ferramenta poderosa no Linux usada para listar, manipular e reexecutar comandos anteriormente digitados no shell. Este guia abrangente cobrir√° as funcionalidades essenciais, op√ß√µes avan√ßadas, vari√°veis de ambiente relacionadas e exemplos pr√°ticos.

## Funcionamento B√°sico

### Exibindo o Hist√≥rico

Para exibir o hist√≥rico de comandos, simplesmente digite:

```bash
history
```

Este comando lista todos os comandos anteriores com um n√∫mero de refer√™ncia ao lado, que pode ser usado para reexecutar esses comandos.

### Reexecutando Comandos

Voc√™ pode reexecutar um comando espec√≠fico do hist√≥rico usando o n√∫mero de refer√™ncia:

```bash
!n
```

Onde `n` √© o n√∫mero do comando listado pelo `history`.

Para reexecutar o √∫ltimo comando, use:

```bash
!!
```

### Pesquisa Incremental

Uma maneira eficiente de encontrar comandos anteriores √© usar a pesquisa incremental com `Ctrl + r`. Pressione `Ctrl + r` e comece a digitar uma parte do comando. O shell exibir√° correspond√™ncias √† medida que voc√™ digita. Use `Ctrl + g` para cancelar.

### Editando o Hist√≥rico

- Para limpar o hist√≥rico:

  ```bash
  history -c
  ```

- Para excluir um comando espec√≠fico do hist√≥rico:

  ```bash
  history -d n
  ```

  Onde `n` √© o n√∫mero do comando a ser exclu√≠do.

  Lembre-se de que o hist√≥rico de comandos pode conter informa√ß√µes sens√≠veis. √â uma boa pr√°tica limpar o hist√≥rico ap√≥s comandos que envolvem dados confidenciais

## Op√ß√µes Avan√ßadas

### Controlando o Tamanho do Hist√≥rico

As vari√°veis de ambiente `HISTSIZE` e `HISTFILESIZE` controlam o n√∫mero de comandos armazenados no hist√≥rico.

- `HISTSIZE`: N√∫mero de comandos mantidos na sess√£o atual.
- `HISTFILESIZE`: N√∫mero de comandos armazenados no arquivo `~/.bash_history`.

Para definir estas vari√°veis, adicione ao seu `~/.bashrc`:

```bash
export HISTSIZE=1000
export HISTFILESIZE=2000
```

### Ignorando Comandos

Voc√™ pode configurar o hist√≥rico para ignorar certos comandos ou padr√µes usando a vari√°vel `HISTIGNORE`. Por exemplo, para ignorar comandos iniciados com espa√ßos ou comandos `ls`:

```bash
export HISTIGNORE="ls:[ ]*"
```